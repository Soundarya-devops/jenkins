# Simple workflow for deploying static content to GitHub Pages
name: Install Web Server & Deploy Page

on:
  push:
    branches: ["main"]  # Runs on push to the main branch
  workflow_dispatch:  # Allows manual execution

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  install-webserver:
    runs-on: ubuntu-latest  # Use a valid runner

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4  # Fetch the repo contents

      - name: Install NGINX
        run: sudo apt-get update && sudo apt-get install -y nginx

      - name: Copy index.html to NGINX Web Directory
        run: sudo cp index.html /var/www/html/index.html

      - name: Restart NGINX to Apply Changes
        run: sudo systemctl restart nginx

      - name: Check if Web Server is Running
        run: curl -I http://localhost
